# ユーザーフィルタ機能

## 概要
既存のレビュー一覧・ランキング一覧ページに、特定ユーザーでフィルタリングする機能を追加します。
「この人の他のレビュー/ランキングも見たい」というユーザーニーズに対応します。

## 機能仕様

### URL設計
```
/reviews?user_id={user_id}      # 特定ユーザーのレビュー一覧
/rankings?user_id={user_id}     # 特定ユーザーのランキング一覧
```

### 表示内容・UI変更
#### レビュー一覧ページ (`/reviews?user_id=123`)
- **ページタイトル**: 「○○さんのレビュー」
- **既存UI**: そのまま使用（ペジネーション、検索等）
- **追加要素**: ユーザー情報表示エリア
- **フィルタ**: user_id でバックエンドフィルタリング

#### ランキング一覧ページ (`/rankings?user_id=123`)
- **ページタイトル**: 「○○さんのランキング」
- **既存UI**: そのまま使用（カテゴリフィルタ等）
- **追加要素**: ユーザー情報表示エリア
- **フィルタ**: user_id でバックエンドフィルタリング

### 導線・リンク追加箇所
1. **レビュー詳細ページ**: ユーザー名 → `/reviews?user_id={user_id}`
2. **店舗詳細ページのレビュー一覧**: ユーザー名 → `/reviews?user_id={user_id}`
3. **ランキング詳細ページ**: ユーザー名 → `/rankings?user_id={user_id}`
4. **レビュー一覧**: ユーザー名 → `/reviews?user_id={user_id}`
5. **ランキング一覧**: ユーザー名 → `/rankings?user_id={user_id}`

## 技術要件

### バックエンドAPI
- **ReviewController**: `index()` メソッドに `user_id` フィルタ追加
- **RankingController**: `index()` メソッドに `user_id` フィルタ追加
- **User情報API**: ユーザー名取得用（`GET /api/users/{user_id}/info`）

### フロントエンド
- **pages/reviews/index.vue**: QueryStringパラメータ対応
- **pages/rankings/index.vue**: QueryStringパラメータ対応
- **共通コンポーネント**: ユーザー名リンク統一

### データベース・認証
- **権限**: 公開データのみ表示（認証不要）
- **パフォーマンス**: user_id でのクエリ最適化
- **エラーハンドリング**: 存在しないuser_idの処理

## 完了基準

### 機能面
- [ ] 特定ユーザーのレビュー一覧表示
- [ ] 特定ユーザーのランキング一覧表示
- [ ] 全導線からのユーザー名リンク動作
- [ ] ページタイトル・UI適切に表示

### 技術面
- [ ] バックエンドAPI実装・テスト完了
- [ ] フロントエンド実装・動作確認完了
- [ ] パフォーマンス・エラーハンドリング確認
- [ ] 既存機能への影響なし確認

### UX面
- [ ] 導線が自然で迷わない
- [ ] 既存ページとの一貫性維持
- [ ] モバイル対応

## 注意事項・制約

### 既存機能への影響
- 既存のレビュー一覧・ランキング一覧の動作は変更しない
- 既存のURL（QueryStringなし）は従来通り動作

### プライバシー・セキュリティ
- 公開データのみ表示（プライベート情報は非表示）
- 存在しないuser_idへの適切なエラーハンドリング
- レート制限・DoS対策（既存のスロットリング活用）

### パフォーマンス考慮
- user_idでのインデックス活用
- ページネーション維持
- N+1クエリ対策

## 参考・関連情報

### 既存実装
- `backend/app/Http/Controllers/Api/ReviewController.php`
- `backend/app/Http/Controllers/Api/RankingController.php`  
- `frontend/pages/reviews/index.vue`
- `frontend/pages/rankings/index.vue`

### 類似機能
- 現在の店舗フィルタ（`/reviews?shop_id={shop_id}`）
- 現在のカテゴリフィルタ（ランキング）