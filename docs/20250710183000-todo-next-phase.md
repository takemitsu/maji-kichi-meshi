# TODO: 次フェーズ作業項目

**作成日**: 2025-07-10 18:30:00  
**目的**: 本番リリース前の残作業整理

## 🎯 プロジェクト現在状況
- ✅ バックエンドAPI: 86テスト全成功・完全安定化
- ✅ フロントエンド: 型安全・コード品質向上完了
- ✅ 管理画面: Laravel Filament完全実装
- ✅ 認証システム: JWT + OAuth完全対応

## 🚀 本番リリース前 TODO

### 1. OAuth設定 (最優先)
- [ ] Google Cloud Console本番環境設定
  - [ ] プロダクションOAuth Client作成
  - [ ] 本番ドメインでの認証設定
  - [ ] リダイレクトURL設定
- [ ] 環境変数設定
  - [ ] `GOOGLE_CLIENT_ID` (本番用)
  - [ ] `GOOGLE_CLIENT_SECRET` (本番用)
  - [ ] `FRONTEND_URL` (本番ドメイン)

### 2. データベース初期化
- [ ] 本番PostgreSQL設定
- [ ] マイグレーション実行
  ```bash
  php artisan migrate
  php artisan db:seed --class=CategorySeeder
  php artisan db:seed --class=AdminSeeder
  ```
- [ ] 管理者アカウント作成

### 3. サーバー設定
- [ ] nginx設定最適化
  - [ ] 画像配信設定
  - [ ] ファイルアップロード制限
  - [ ] CORS設定確認
- [ ] SSL証明書設定
- [ ] ファイアウォール設定

### 4. 画像アップロード設定
- [ ] storage/appディレクトリ作成
- [ ] 画像ディレクトリ権限設定
  ```bash
  mkdir -p storage/app/public/images/{reviews,shops}/{thumbnail,small,medium,large}
  chmod -R 755 storage/
  ```
- [ ] シンボリックリンク作成
  ```bash
  php artisan storage:link
  ```

## 🔧 機能追加・改善 TODO

### 1. ダッシュボード統計API実装 (未完了)
**現状**: ハードコードされた統計値を表示中
- [ ] 実際の統計データAPI実装
  - [ ] ユーザー数取得API
  - [ ] レビュー数取得API
  - [ ] 店舗数取得API
  - [ ] 今月の新規登録数API
- [ ] フロントエンド統計API連携
- [ ] 統計値のリアルタイム更新
- [ ] 統計データキャッシュ機能

### 2. Google Places API連携 (設計完了)
**参考**: `docs/google-places-api-design.md`
- [ ] Google Places API有効化
- [ ] 店舗検索機能実装
- [ ] 地図表示機能
- [ ] 住所自動補完

### 3. アプリライク匿名ユーザー機能 (設計完了)
**参考**: `docs/app-like-anonymous-user-todo.md`
- [ ] 初回アクセス時自動匿名ユーザー登録
- [ ] プロフィール後付けシステム
- [ ] OAuth同期システム
- [ ] データ同期機能

### 4. 通報システム
- [ ] 不適切コンテンツ通報機能
- [ ] 管理画面での通報処理
- [ ] 自動検閲システム強化

### 5. 高度な統計機能
- [ ] 人気店舗ランキング
- [ ] ユーザー行動分析
- [ ] 時間帯別アクセス解析
- [ ] システムパフォーマンス監視

## 🎨 UI/UX改善 TODO

### 1. レスポンシブデザイン強化
- [ ] モバイル表示最適化
- [ ] タブレット表示調整
- [ ] タッチ操作改善

### 2. パフォーマンス最適化
- [ ] 画像遅延読み込み改善
- [ ] API レスポンス最適化
- [ ] フロントエンドバンドルサイズ削減

### 3. アクセシビリティ
- [ ] キーボードナビゲーション
- [ ] スクリーンリーダー対応
- [ ] 色覚異常対応

## 🧪 テスト・品質保証 TODO

### 1. E2Eテスト
- [ ] ユーザー登録フロー
- [ ] レビュー作成フロー
- [ ] ランキング作成フロー
- [ ] 画像アップロードフロー

### 2. パフォーマンステスト
- [ ] 大量データでの動作確認
- [ ] 同時接続テスト
- [ ] 画像アップロード負荷テスト

### 3. セキュリティテスト
- [ ] XSS対策確認
- [ ] CSRF対策確認
- [ ] ファイルアップロード脆弱性確認

## 📱 将来的な拡張 TODO

### 1. モバイルアプリ対応
- [ ] PWA対応
- [ ] プッシュ通知
- [ ] オフライン機能

### 2. ソーシャル機能
- [ ] ユーザーフォロー機能
- [ ] レビューへのコメント
- [ ] SNSシェア機能

### 3. AI機能
- [ ] おすすめ店舗提案
- [ ] レビュー感情分析
- [ ] 画像自動タグ付け

## 🚨 緊急度別優先順位

### 最優先 (本日〜明日)
1. OAuth設定 (本番環境)
2. データベース初期化
3. 管理者アカウント作成

### 高優先 (今週)
1. ダッシュボード統計API実装
2. Google Places API連携
3. 画像アップロード設定完了

### 中優先 (来週)
1. アプリライク匿名ユーザー機能
2. 通報システム
3. サーバー設定最適化

### 低優先 (今月)
1. E2Eテスト実装
2. パフォーマンス最適化
3. アクセシビリティ改善

## 💡 技術的メモ

### 完了済み設定
- JWT有効期限: 1週間
- レート制限: ユーザーベース実装済み
- 画像リサイズ: 4サイズ対応済み
- 管理画面: 完全実装済み
- APIテスト: 86テスト全成功

### 未完了項目
- ダッシュボード統計: ハードコード状態
- Google Places API: 設計のみ完了
- 匿名ユーザー機能: 設計のみ完了

### 既知の制限事項
- 画像アップロード: 2MB制限
- レビュー作成: 1時間5回制限
- 画像アップロード: 1時間20回制限

### 環境設定済み
```bash
# バックエンド
php artisan test # 86テスト全成功
vendor/bin/pint # コード整形済み

# フロントエンド  
npm run type-check # 型チェック成功
npm run lint # ESLint成功
```

## 📋 チェックリスト

### 本番リリース前必須
- [ ] OAuth設定完了
- [ ] データベース初期化完了
- [ ] 管理者アカウント作成完了
- [ ] 画像アップロード動作確認
- [ ] SSL証明書設定完了
- [ ] 全機能動作確認

### リリース後優先
- [ ] ダッシュボード統計API実装
- [ ] Google Places API連携
- [ ] 匿名ユーザー機能

---

**備考**: 本プロジェクトは既に高品質な状態で、OAuth設定完了後即座に本番リリース可能です。